{"version":3,"file":"static/js/607.31bcac7e.chunk.js","mappings":"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","sources":["components/Box/Box.js","components/Reviews/Reviews.styled.js","components/Reviews/Reviews.jsx","helpers/dateFormatter.js","helpers/movieApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  typography,\n  space,\n  color,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n  shadow,\n} from 'styled-system';\n\nconst Box = styled('div')(\n  typography,\n  space,\n  color,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n  shadow\n);\n\nexport default Box;\n","import styled from 'styled-components';\n\nexport const Wrap = styled.div`\n  padding: ${p => p.theme.space[4]}px;\n  background-color: ${p => p.theme.colors.modalBg};\n  width: 750px;\n`;\n\nexport const Title = styled.h3`\n  margin-top: ${p => p.theme.space[3]}px;\n  margin-bottom: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes[4]}px;\n  text-align: center;\n`;\n\nexport const AuthorName = styled.h3`\n  margin-top: ${p => p.theme.space[2]}px;\n  margin-bottom: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes[2]}px;\n`;\n\nexport const Text = styled.p`\n  font-size: ${p => p.theme.fontSizes[2]}px;\n  font-style: italic;\n  padding: ${p => p.theme.space[3]}px;\n  background-color: ${p => p.theme.colors.bg};\n`;\n","import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Title, AuthorName, Text, Wrap } from './Reviews.styled';\nimport { getFilmReviews } from 'helpers/movieApi';\nimport Box from 'components/Box';\nimport { dateFormatter } from 'helpers/dateFormatter';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    (async function getReviews() {\n      try {\n        const result = await getFilmReviews(movieId, controller);\n        setReviews(result);\n      } catch {\n        return;\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <Box display=\"flex\" justifyContent=\"center\">\n      <Wrap>\n        <Title>Reviews</Title>\n\n        {reviews.length > 0 && (\n          <ul>\n            {reviews.map(({ id, author, content, updated_at: date }) => (\n              <li key={id}>\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <AuthorName>Author: {author}</AuthorName>\n                  <p>\n                    <b>Added:</b> <i>{dateFormatter(date)}</i>\n                  </p>\n                </Box>\n                <Text>{content}</Text>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {reviews.length === 0 && <AuthorName>No reviews yet</AuthorName>}\n      </Wrap>\n    </Box>\n  );\n};\n\nexport default Reviews;\n","export const dateFormatter = date => {\n  const newDate = new Date(date);\n  return newDate.toLocaleDateString();\n};\n","import axios from 'axios';\n\nconst API_KEY = '7254cc1ad31c69d2a534e79f9d285c60';\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nexport async function getTrendingFilms(abort) {\n  const filmsPath = `/3/trending/movie/day`;\n  const films = await axios.get(filmsPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return films.data.results;\n}\n\nexport async function getFilmById(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data;\n}\n\nexport async function getFilmCredits(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}/credits`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data.cast;\n}\n\nexport async function getFilmReviews(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}/reviews`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data.results;\n}\n\nexport async function searchMoviesByName(movieName, abort) {\n  const filmPath = `/3/search/movie`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: movieName },\n  });\n  return filmInfo.data;\n}\n"],"names":["styled","typography","space","color","layout","flexbox","background","border","position","shadow","Wrap","p","theme","colors","modalBg","Title","fontSizes","AuthorName","Text","bg","useState","reviews","setReviews","movieId","useParams","useEffect","controller","AbortController","getFilmReviews","result","abort","Box","display","justifyContent","length","map","id","author","content","date","updated_at","alignItems","dateFormatter","Date","toLocaleDateString","API_KEY","getTrendingFilms","axios","signal","params","api_key","films","data","results","getFilmById","filmPath","filmInfo","getFilmCredits","cast","searchMoviesByName","movieName","query"],"sourceRoot":""}