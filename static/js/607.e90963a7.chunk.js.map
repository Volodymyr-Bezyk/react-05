{"version":3,"file":"static/js/607.e90963a7.chunk.js","mappings":"8LA2BA,GAbYA,EAAAA,EAAAA,IAAO,MAAPA,CACVC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,GACAC,EAAAA,G,4ECiBF,IArCe,SAAAC,GAAU,IAAD,EACtB,OACE,SAAC,IAAD,CACEC,GAAI,EACJC,GAAI,EACJC,GAAI,EACJC,QAAQ,OACRC,SAAS,OACTC,eAAe,SACfC,GAAG,KACHC,QAAO,UAAER,EAAMS,WAAR,QAAe,EARxB,SAUGC,MAAMV,EAAMW,OACVC,KAAK,GACLC,KAAI,SAACC,EAAMC,GAAP,OACH,SAAC,IAAD,CAAKR,GAAG,KAAR,UACE,SAAC,MAAD,gBACES,MAAO,EACPC,gBAAgB,UAChBC,gBAAgB,WACZlB,GAJN,cAME,iBACEmB,EAAE,IACFC,EAAE,IACFC,GAAG,IACHC,GAAG,IACHC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,aAbFT,EADf,KAqBZ,C,6JCrCYU,EAAOpC,EAAAA,GAAAA,IAAH,sFACJ,SAAAqC,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACQ,SAAAmC,GAAC,OAAIA,EAAEC,MAAMC,OAAOC,OAAnB,IAIVC,EAAQzC,EAAAA,GAAAA,GAAH,mHACF,SAAAqC,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACE,SAAAmC,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACL,SAAAmC,GAAC,OAAIA,EAAEC,MAAMI,UAAU,EAAtB,IAIHC,EAAa3C,EAAAA,GAAAA,GAAH,4FACP,SAAAqC,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACE,SAAAmC,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACL,SAAAmC,GAAC,OAAIA,EAAEC,MAAMI,UAAU,EAAtB,IAGHE,EAAO5C,EAAAA,GAAAA,EAAH,iHACF,SAAAqC,GAAC,OAAIA,EAAEC,MAAMI,UAAU,EAAtB,IAEH,SAAAL,GAAC,OAAIA,EAAEC,MAAMpC,MAAM,EAAlB,IACQ,SAAAmC,GAAC,OAAIA,EAAEC,MAAMC,OAAOM,EAAnB,I,gDC2CvB,EA3DgB,WACd,OAA8BC,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QAsBR,OApBAE,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAa,IAAIC,gBAcvB,OAZA,mCAAC,oGAEGL,GAAa,GAFhB,UAGwBM,EAAAA,EAAAA,IAAeL,EAASG,GAHhD,OAGSG,EAHT,OAIGT,EAAWS,GAJd,mGAQGP,GAAa,GARhB,4EAAD,uDAYO,WACLI,EAAWI,OACZ,CACF,GAAE,CAACP,KAGF,SAACQ,EAAA,EAAD,CAAK5C,QAAQ,OAAOE,eAAe,SAAnC,UACE,UAACmB,EAAD,YACE,SAACK,EAAD,sBACCQ,IAAa,SAACW,EAAA,EAAD,CAAQtC,MAAO,EAAGY,MAAO,IAAKC,OAAQ,OAElDc,GAAaF,EAAQc,OAAS,IAC9B,wBACGd,EAAQvB,KAAI,gBAAGsC,EAAH,EAAGA,GAAIC,EAAP,EAAOA,OAAQC,EAAf,EAAeA,QAAqBC,EAApC,EAAwBC,WAAxB,OACX,2BACE,UAACP,EAAA,EAAD,CACE5C,QAAQ,OACRE,eAAe,gBACfkD,WAAW,SAHb,WAKE,UAACxB,EAAD,sBAAqBoB,MACrB,0BACE,kCADF,KACgB,wBAAIK,EAAAA,EAAAA,GAAcH,YAGpC,SAACrB,EAAD,UAAOoB,MAXAF,EADE,OAkBfb,GAAgC,IAAnBF,EAAQc,SACrB,SAAClB,EAAD,iCAKT,C,sDClEM,IAAMyB,EAAgB,SAAAH,GAE3B,OADgB,IAAII,KAAKJ,GACVK,oBAChB,C,mMCDKC,EAAU,mCAGT,SAAeC,EAAtB,+CAAO,OAAP,oBAAO,WAAgCd,GAAhC,8GAEee,EAAAA,GAAAA,IAFf,wBAEoC,CACvCC,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASL,KAJhB,cAECM,EAFD,yBAMEA,EAAMC,KAAKC,SANb,kEASA,SAAeC,EAAtB,iDAAO,OAAP,oBAAO,WAA2B7B,EAASO,GAApC,gFACCuB,EADD,mBACwB9B,GADxB,SAEkBsB,EAAAA,GAAAA,IAAUQ,EAAU,CACzCP,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASL,KAJhB,cAECW,EAFD,yBAMEA,EAASJ,MANX,kEASA,SAAeK,EAAtB,iDAAO,OAAP,oBAAO,WAA8BhC,EAASO,GAAvC,gFACCuB,EADD,mBACwB9B,EADxB,qBAEkBsB,EAAAA,GAAAA,IAAUQ,EAAU,CACzCP,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASL,KAJhB,cAECW,EAFD,yBAMEA,EAASJ,KAAKM,MANhB,kEASA,SAAe5B,EAAtB,iDAAO,OAAP,oBAAO,WAA8BL,EAASO,GAAvC,gFACCuB,EADD,mBACwB9B,EADxB,qBAEkBsB,EAAAA,GAAAA,IAAUQ,EAAU,CACzCP,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASL,KAJhB,cAECW,EAFD,yBAMEA,EAASJ,KAAKC,SANhB,kEASA,SAAeM,EAAtB,mDAAO,OAAP,oBAAO,WAAkCC,EAAWC,EAAM7B,GAAnD,wGAEkBe,EAAAA,GAAAA,IAFlB,kBAEsC,CACzCC,OAAQhB,EAAMgB,OACdC,OAAQ,CAAEC,QAASL,EAASiB,MAAOF,EAAWC,KAAMA,KAJjD,cAECL,EAFD,yBAMEA,EAASJ,MANX,kEAtCPL,EAAAA,GAAAA,SAAAA,QAAyB,4B","sources":["components/Box/Box.js","components/Loader/Loader.js","components/Reviews/Reviews.styled.js","components/Reviews/Reviews.jsx","helpers/dateFormatter.js","helpers/movieApi.js"],"sourcesContent":["import styled from 'styled-components';\nimport {\n  typography,\n  space,\n  color,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n  shadow,\n  grid,\n} from 'styled-system';\n\nconst Box = styled('div')(\n  typography,\n  space,\n  color,\n  layout,\n  flexbox,\n  background,\n  border,\n  position,\n  shadow,\n  grid\n);\n\nexport default Box;\n","import Box from 'components/Box';\nimport React from 'react';\nimport ContentLoader from 'react-content-loader';\n\nconst Loader = props => {\n  return (\n    <Box\n      pt={3}\n      pr={3}\n      pl={3}\n      display=\"flex\"\n      flexWrap=\"wrap\"\n      justifyContent=\"center\"\n      as=\"ul\"\n      gridGap={props.gap ?? 3}\n    >\n      {Array(props.count)\n        .fill(0)\n        .map((item, idx) => (\n          <Box as=\"li\" key={idx}>\n            <ContentLoader\n              speed={2}\n              backgroundColor=\"#545454\"\n              foregroundColor=\"#f3f2f2\"\n              {...props}\n            >\n              <rect\n                x=\"0\"\n                y=\"0\"\n                rx=\"0\"\n                ry=\"0\"\n                width={props.width}\n                height={props.height}\n              />\n            </ContentLoader>\n          </Box>\n        ))}\n    </Box>\n  );\n};\n\nexport default Loader;\n","import styled from 'styled-components';\n\nexport const Wrap = styled.div`\n  padding: ${p => p.theme.space[4]}px;\n  background-color: ${p => p.theme.colors.modalBg};\n  width: 750px;\n`;\n\nexport const Title = styled.h3`\n  margin-top: ${p => p.theme.space[3]}px;\n  margin-bottom: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes[4]}px;\n  text-align: center;\n`;\n\nexport const AuthorName = styled.h3`\n  margin-top: ${p => p.theme.space[2]}px;\n  margin-bottom: ${p => p.theme.space[2]}px;\n  font-size: ${p => p.theme.fontSizes[2]}px;\n`;\n\nexport const Text = styled.p`\n  font-size: ${p => p.theme.fontSizes[2]}px;\n  font-style: italic;\n  padding: ${p => p.theme.space[3]}px;\n  background-color: ${p => p.theme.colors.bg};\n`;\n","import { useEffect } from 'react';\nimport { useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Title, AuthorName, Text, Wrap } from './Reviews.styled';\nimport { getFilmReviews } from 'helpers/movieApi';\nimport Box from 'components/Box';\nimport { dateFormatter } from 'helpers/dateFormatter';\nimport Loader from 'components/Loader/Loader';\n\nconst Reviews = () => {\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    (async function getReviews() {\n      try {\n        setIsLoading(true);\n        const result = await getFilmReviews(movieId, controller);\n        setReviews(result);\n      } catch {\n        return;\n      } finally {\n        setIsLoading(false);\n      }\n    })();\n\n    return () => {\n      controller.abort();\n    };\n  }, [movieId]);\n\n  return (\n    <Box display=\"flex\" justifyContent=\"center\">\n      <Wrap>\n        <Title>Reviews</Title>\n        {isLoading && <Loader count={2} width={750} height={150} />}\n\n        {!isLoading && reviews.length > 0 && (\n          <ul>\n            {reviews.map(({ id, author, content, updated_at: date }) => (\n              <li key={id}>\n                <Box\n                  display=\"flex\"\n                  justifyContent=\"space-between\"\n                  alignItems=\"center\"\n                >\n                  <AuthorName>Author: {author}</AuthorName>\n                  <p>\n                    <b>Added:</b> <i>{dateFormatter(date)}</i>\n                  </p>\n                </Box>\n                <Text>{content}</Text>\n              </li>\n            ))}\n          </ul>\n        )}\n\n        {!isLoading && reviews.length === 0 && (\n          <AuthorName>No reviews yet</AuthorName>\n        )}\n      </Wrap>\n    </Box>\n  );\n};\n\nexport default Reviews;\n","export const dateFormatter = date => {\n  const newDate = new Date(date);\n  return newDate.toLocaleDateString();\n};\n","import axios from 'axios';\n\nconst API_KEY = '7254cc1ad31c69d2a534e79f9d285c60';\naxios.defaults.baseURL = 'https://api.themoviedb.org';\n\nexport async function getTrendingFilms(abort) {\n  const filmsPath = `/3/trending/movie/day`;\n  const films = await axios.get(filmsPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return films.data.results;\n}\n\nexport async function getFilmById(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data;\n}\n\nexport async function getFilmCredits(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}/credits`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data.cast;\n}\n\nexport async function getFilmReviews(movieId, abort) {\n  const filmPath = `/3/movie/${movieId}/reviews`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY },\n  });\n  return filmInfo.data.results;\n}\n\nexport async function searchMoviesByName(movieName, page, abort) {\n  const filmPath = `/3/search/movie`;\n  const filmInfo = await axios.get(filmPath, {\n    signal: abort.signal,\n    params: { api_key: API_KEY, query: movieName, page: page },\n  });\n  return filmInfo.data;\n}\n"],"names":["styled","typography","space","color","layout","flexbox","background","border","position","shadow","grid","props","pt","pr","pl","display","flexWrap","justifyContent","as","gridGap","gap","Array","count","fill","map","item","idx","speed","backgroundColor","foregroundColor","x","y","rx","ry","width","height","Wrap","p","theme","colors","modalBg","Title","fontSizes","AuthorName","Text","bg","useState","reviews","setReviews","isLoading","setIsLoading","movieId","useParams","useEffect","controller","AbortController","getFilmReviews","result","abort","Box","Loader","length","id","author","content","date","updated_at","alignItems","dateFormatter","Date","toLocaleDateString","API_KEY","getTrendingFilms","axios","signal","params","api_key","films","data","results","getFilmById","filmPath","filmInfo","getFilmCredits","cast","searchMoviesByName","movieName","page","query"],"sourceRoot":""}